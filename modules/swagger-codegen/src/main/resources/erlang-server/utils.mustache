-module({{packageName}}_utils).

-export([set_resp_headers/2]).
-export([string_to_header/1]).
-export([get_opt/2]).
-export([get_opt/3]).

set_resp_headers([], Req) ->
    Req;
set_resp_headers([{K, V} | T], Req0) ->
    Req = cowboy_req:set_resp_header(K, V, Req0),
    set_resp_headers(T, Req).

string_to_header(Name) ->
  list_to_binary(string:to_lower(Name)).

get_opt(Key, Opts) ->
    get_opt(Key, Opts, undefined).

get_opt(Key, Opts, Default) ->
    case lists:keyfind(Key, 1, Opts) of
        {_, Value} -> Value;
        false -> Default
    end.
